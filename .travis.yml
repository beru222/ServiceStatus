# see http://about.travis-ci.org/docs/user/languages/php/ for more hints
language: php

# list any PHP version you want to test against
php:
    # using major version aliases
    # aliased to a recent 5.3.x version
    - 5.3
    # aliased to a recent 5.4.x version
    - 5.4

# You can also define scripts to be run before and after the dependency installation script:
before_install:
    - curl -s http://getcomposer.org/installer | php
    - php composer.phar install --dev --no-interaction
    - php composer.phar self-update

# execute any number of scripts before the test run, custom env's are available as variables
before_script:
    - pyrus install pear/PHP_CodeSniffer
    - phpenv rehash
    - phpenv config-add php-customize.ini

script:
    - mkdir -p build/logs
    - phpunit --coverage-clover build/logs/clover.xml --configuration tests/phpunit.xml tests
    - phpunit tests
    - phpcs --standard=PSR1 --extensions=php ./

after_script:
    - php vendor/bin/coveralls -v

# configure notifications (email, IRC, campfire etc)
notifications:
  email:
    recipients:
      - Kenichi.beru222.Koyama@gmail.com
    on_success: always # default: change
    on_failure: always # default: always